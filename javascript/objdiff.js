const {formatters:formatter}= require('jsondiffpatch')
const jsonDiffPatch = require('jsondiffpatch').create();

// var a={"heartBeatTimer":30,"perPlmnSnssaiList":[{"plmnId":{"mcc":"286","mnc":"06"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]},{"plmnId":{"mcc":"002","mnc":"002"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]}],"nfInstanceId":"5246d559-b174-4f0d-8679-be034159ba1a","nfType":"AMF","nfStatus":"REGISTERED","plmnList":[{"mcc":"286","mnc":"06"}],"nsiList":[],"ipv4Addresses":["172.30.65.21"],"ipv6Addresses":[],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"amfInfo":{"amfSetId":"156","amfRegionId":"2A","guamiList":[{"plmnId":{"mcc":"286","mnc":"06"},"amfId":"2A55AA"}],"taiList":[{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000075"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000076"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000077"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000078"}],"taiRangeList":[{"plmnId":{"mcc":"286","mnc":"06"},"tacRangeList":[{"start":"000075","end":"000078","pattern":"string"}]}]},"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServices":[{"serviceInstanceId":"074eb37b-4b34-4e30-be8e-13b5249f3f38","serviceName":"namf-comm","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"defaultNotificationSubscriptions":[{"notificationType":"N1_MESSAGES","callbackUri":"http://192.168.23.2:2002/namf-notify/v1/n1-message-notify"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"},{"serviceInstanceId":"1c8b3f70-6b7f-4783-8aa2-4d9d661f149f","serviceName":"namf-evts","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"},{"serviceInstanceId":"1b373bd5-d142-47b1-9628-66b23580c8a3","serviceName":"namf-loc","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"},{"serviceInstanceId":"4f6d0cde-d6be-442a-a4fd-e512493da99b","serviceName":"namf-mt","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"}]}

// var b={"perPlmnSnssaiList":[{"plmnId":{"mcc":"286","mnc":"06"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]},{"plmnId":{"mcc":"002","mnc":"002"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]}],"plmnList":[{"mcc":"286","mnc":"06"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"nfType":"AMF","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","capacity":0,"nfInstanceId":"5246d559-b174-4f0d-8679-be034159ba1a","heartBeatTimer":30,"nsiList":{},"priority":0,"ipv4Addresses":["172.30.65.21"],"ipv6Addresses":{},"nfStatus":"REGISTERED","nfServices":[{"serviceName":"namf-comm","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"074eb37b-4b34-4e30-be8e-13b5249f3f38","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"capacity":0,"scheme":"http","defaultNotificationSubscriptions":[{"notificationType":"N1_MESSAGES","callbackUri":"http://192.168.23.2:2002/namf-notify/v1/n1-message-notify"}]},{"serviceName":"namf-evts","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"1c8b3f70-6b7f-4783-8aa2-4d9d661f149f","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"scheme":"http","capacity":0},{"serviceName":"namf-loc","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"1b373bd5-d142-47b1-9628-66b23580c8a3","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"scheme":"http","capacity":0},{"serviceName":"namf-mt","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"4f6d0cde-d6be-442a-a4fd-e512493da99b","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"scheme":"http","capacity":0}],"amfInfo":{"amfSetId":"156","taiList":[{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000075"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000076"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000077"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000078"}],"taiRangeList":[{"tacRangeList":[{"end":"000078","pattern":"string","start":"000075"}],"plmnId":{"mcc":"286","mnc":"06"}}],"guamiList":[{"amfId":"2A55AA","plmnId":{"mcc":"286","mnc":"06"}}],"amfRegionId":"2A"}}
var a={"heartBeatTimer":30,"perPlmnSnssaiList":[{"plmnId":{"mcc":"286","mnc":"06"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]},{"plmnId":{"mcc":"002","mnc":"002"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]}],"nfInstanceId":"5246d559-b174-4f0d-8679-be034159ba1a","nfType":"AMF","nfStatus":"REGISTERED","plmnList":[{"mcc":"286","mnc":"06"}],"nsiList":[],"ipv4Addresses":["172.30.65.21"],"ipv6Addresses":[],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"amfInfo":{"amfSetId":"156","amfRegionId":"2A","guamiList":[{"plmnId":{"mcc":"286","mnc":"06"},"amfId":"2A55AA"}],"taiList":[{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000075"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000076"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000077"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000078"}],"taiRangeList":[{"plmnId":{"mcc":"286","mnc":"06"},"tacRangeList":[{"start":"000075","end":"000078","pattern":"string"}]}]},"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServices":[{"serviceInstanceId":"074eb37b-4b34-4e30-be8e-13b5249f3f38","serviceName":"namf-comm","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"defaultNotificationSubscriptions":[{"notificationType":"N1_MESSAGES","callbackUri":"http://192.168.23.2:2002/namf-notify/v1/n1-message-notify"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"},{"serviceInstanceId":"1c8b3f70-6b7f-4783-8aa2-4d9d661f149f","serviceName":"namf-evts","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"},{"serviceInstanceId":"1b373bd5-d142-47b1-9628-66b23580c8a3","serviceName":"namf-loc","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"},{"serviceInstanceId":"4f6d0cde-d6be-442a-a4fd-e512493da99b","serviceName":"namf-mt","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"scheme":"http","nfServiceStatus":"REGISTERED","ipEndPoints":[{"ipv4Address":"172.30.65.21","port":2860}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"priority":0,"capacity":0,"load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00"}]}
var b={"perPlmnSnssaiList":[{"plmnId":{"mcc":"286","mnc":"06"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]},{"plmnId":{"mcc":"002","mnc":"002"},"sNssaiList":[{"sst":1},{"sst":2},{"sst":3}]}],"plmnList":[{"mcc":"286","mnc":"06"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"nfType":"AMF","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","capacity":0,"nfInstanceId":"5246d559-b174-4f0d-8679-be034159ba1a","heartBeatTimer":30,"nsiList":{},"priority":0,"ipv4Addresses":["172.30.65.21"],"ipv6Addresses":{},"nfStatus":"REGISTERED","nfServices":[{"serviceName":"namf-comm","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"074eb37b-4b34-4e30-be8e-13b5249f3f38","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"capacity":0,"scheme":"http","defaultNotificationSubscriptions":[{"notificationType":"N1_MESSAGES","callbackUri":"http://192.168.23.2:2002/namf-notify/v1/n1-message-notify"}]},{"serviceName":"namf-evts","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"1c8b3f70-6b7f-4783-8aa2-4d9d661f149f","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"scheme":"http","capacity":0},{"serviceName":"namf-loc","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"1b373bd5-d142-47b1-9628-66b23580c8a3","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"scheme":"http","capacity":0},{"serviceName":"namf-mt","versions":[{"apiVersionInUri":"v1","apiFullVersion":"1.0.0.alpha-1"}],"allowedNfTypes":["UDM","AUSF","PCF","SMF","AMF"],"serviceInstanceId":"4f6d0cde-d6be-442a-a4fd-e512493da99b","load":0,"recoveryTime":"2020-12-30T22:48:48.124+03:00","nfServiceStatus":"REGISTERED","priority":0,"ipEndPoints":[{"port":2860,"ipv4Address":"172.30.65.21"}],"scheme":"http","capacity":0}],"amfInfo":{"amfSetId":"156","taiList":[{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000075"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000076"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000077"},{"plmnId":{"mcc":"286","mnc":"06"},"tac":"000078"}],"taiRangeList":[{"tacRangeList":[{"end":"000078","pattern":"string","start":"000075"}],"plmnId":{"mcc":"286","mnc":"06"}}],"guamiList":[{"amfId":"2A55AA","plmnId":{"mcc":"286","mnc":"06"}}],"amfRegionId":"2A"}}
var delta = jsonDiffPatch.diff(a,b);
// console.log(delta)

// console.log(a.perPlmnSnssaiList, b.perPlmnSnssaiList);
// console.log(jsondiffpatch.diff(a.perPlmnSnssaiList,b.perPlmnSnssaiList))
// console.log(a.perPlmnSnssaiList == b.perPlmnSnssaiList);

var output = formatter.console.format(delta);
var output2 = formatter.annotated.format(delta);
// console.log(Object.keys(jsondiffpatch.processor.pipes));
console.log(output);
